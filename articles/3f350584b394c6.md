---
title: "Sendbirdã§UIKit for Reactã‚’åˆ©ç”¨ã™ã‚‹éš›ã«å›°ã£ãŸã“ã¨"
emoji: "ğŸ’¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: 
  - "sendbird"
  - "chat"
published: false
---
https://sendbird.com/docs/chat/uikit/v3/react/overview
Sendbirdã§UIKit for Reactã‚’åˆ©ç”¨ã—ã€æ—¢å­˜ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãƒãƒ£ãƒƒãƒˆUIã‚’çµ„ã¿è¾¼ã‚€éš›ã®å›°ã‚Šãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
ç‰¹åˆ¥è¨€åŠãŒãªã„é™ã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯3.15.3ã‚’åˆ©ç”¨ã—ã¦ã„ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚

### ğŸš¨GroupChannelSettingsã®MessageInputWrapperã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ—¥æœ¬èªã‚’ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹ã¨ASCIIã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã•ã‚Œã‚‹

#### å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
https://sendbird.com/docs/chat/uikit/v3/react/modules/group-channel#2-ui-components-3-messageinputwrapper

#### äº‹è±¡

- æ—¥æœ¬èªã‚’ã‚³ãƒ”ãƒ¼ã—ã¦MessageInputæ¬„ã«ãƒšãƒ¼ã‚¹ãƒˆã™ã‚‹ã¨ASCIIã‚³ãƒ¼ãƒ‰ã«å¤‰æ›ã•ã‚Œã‚‹
- ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã¯å•é¡Œãªããƒšãƒ¼ã‚¹ãƒˆå¯èƒ½

![MessageInputWrapper](/images/3f350584b394c6/002.gif)

#### å¯¾å¿œç­–
ã‚ã¾ã‚Šå¥½ã¾ã—ããªã„ã®ã§ã™ãŒã€useRefã‚’ä½¿ã£ã¦è¦ç´ ã‚’èµ°æŸ»ã—ã€pasteã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ã§ç„¡ç†ãã‚Šå›é¿ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã—ãŸã€‚

```javascript:sample.ts
  const inputRef = useRef<HTMLInputElement>(null);

  useEffect(() => {
    customPaste(inputRef);
  }, [inputRef.current]);

  const customPaste = (ref: React.RefObject<HTMLInputElement>) => {
  if (ref.current) {
    const elm = ref.current.getElementsByClassName('sendbird-message-input-text-field')[0];
    elm.addEventListener('paste', (event) => {
      event.stopPropagation();
      event.preventDefault();
      const paste = (event.clipboardData || window.clipboardData).getData('text');
      const selection = window.getSelection();
      if (selection && selection.rangeCount) {
        selection.deleteFromDocument();
        selection.getRangeAt(0).insertNode(document.createTextNode(paste));
        selection.collapseToEnd();
      }
    });
  }
  
  return (
    <div ref={inputRef}>
      <GroupChannelUI
        renderMessageInput={() => <MessageInputWrapper />}
      />
    </div>
  )
```

### ğŸš¨MessageSearchãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§2æ–‡å­—ä»¥ä¸Šã®ã²ã‚‰ãŒãªæ¤œç´¢ãŒã§ããªã„

#### å¯¾è±¡ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
https://sendbird.com/docs/chat/uikit/v3/react/modules/message-search

#### äº‹è±¡

- ã²ã‚‰ãŒãª2æ–‡å­—ä»¥ä¸Šã§æ¤œç´¢ã™ã‚‹ã¨æ¡ä»¶ã«ãƒãƒƒãƒã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒãƒ’ãƒƒãƒˆã—ãªã„ï¼ˆ1æ–‡å­—ãªã‚‰ãƒ’ãƒƒãƒˆã™ã‚‹ï¼‰
- ã‚«ã‚¿ã‚«ãƒŠã¯2æ–‡å­—ä»¥ä¸Šã§ã‚‚ãƒ’ãƒƒãƒˆã™ã‚‹

![MessageSearch](/images/3f350584b394c6/001.gif)

#### å¯¾å¿œç­–

æ—¥æœ¬èªæ¤œç´¢ã‚’å‰æã¨ã™ã‚‹å ´åˆã€ç¾çŠ¶MessageSearchãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åˆ©ç”¨ã¯é›£ã—ã„ã¨æ„Ÿã˜ã¾ã™ã€‚
å˜ä¸€ã‚°ãƒ«ãƒ¼ãƒ—å†…ã®æ¤œç´¢ã§ã‚ã‚Œã°ã€PlatformAPIã®searchMessagesAPIã‚’åˆ©ç”¨ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã”ã¨é–‹ç™ºã™ã‚‹ã¨ã„ã†æ–¹æ³•ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚

https://sendbird.com/docs/chat/platform-api/v3/message/message-search/search-messages

### ğŸš¨Group channel settingsã®LeaveChannelã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Uncaught ErrorãŒç™ºç”Ÿã™ã‚‹
https://sendbird.com/docs/chat/uikit/v3/react/modules/group-channel-settings#2-ui-components-3-leavechannel

#### äº‹è±¡
Group-channel-settingsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åˆ©ç”¨ã—ã€ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã›ã‚ˆã†ã¨ã™ã‚‹ã“ã¨ã§ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã™ã€‚
å³å¯†ã«è¨€ã†ã¨ã€Group-channel-settingså†…ã®leavechannelãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚ã«ç™ºç”Ÿã—ã¾ã™ã€‚

```log: console.log
react-dom.development.js:14169 Uncaught Error: MenuItemAction(...):
 Nothing was returned from render. This usually means a return statement is missing.
 Or, to render nothing, return null.
```
ã“ã‚Œã¯ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ä¸Šã§ã¯ç™ºç”Ÿã—ã¦ãŠã‚‰ãšã€GroupChannelUIãªã©ä»–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã¨ã®çµ„ã¿åˆã‚ã›ã§ç™ºç”Ÿã—ã¾ã™ã€‚

#### å¯¾å¿œç­–
renderLeaveChannelã§leavechannelã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã¦ã‚ã’ã‚Œã°å›é¿ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```javascript:sample.ts
<ChannelSettingsProvider
  channelUrl={channel.url}
  onCloseClick={() => onCloseClickAction()}
>
  <ChannelSettingsUI
    renderLeaveChannel={() => <Box/>}
  />
</ChannelSettingsProvider>
```

### ğŸš¨Group channel listã®ãƒãƒ£ãƒ³ãƒãƒ«å–å¾—ãŒä¸å®‰å®šï¼ˆæ™‚ã€…no channelsï¼‰ã«ãªã‚‹
ã“ã‚Œã¯ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯3.15.3ã«ä¸Šã’ã‚‹å‰ã«3.14.14ã‚’åˆ©ç”¨ã—ã¦ã„ãŸæ™‚ç™ºç”Ÿã—ã¦ã„ã¾ã—ãŸã€‚
ç›´è¿‘ã®3.15.3ãƒªãƒªãƒ¼ã‚¹ã§ä¿®æ­£ãŒãªã•ã‚ŒãŸã®ã§è‰¯ã‹ã£ãŸã§ã™ãŒã€ã“ã®ã‚ˆã†ã«ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªå•é¡Œã‚‚ã¡ã‚‰ã»ã‚‰ã‚ã‚Šãã†ã§ã™ã€‚

> Fixed the issue where the channel list appears empty when the UIKit is rendered for the first time.

https://github.com/sendbird/sendbird-uikit-react/pull/1220


### æ„Ÿæƒ³
ä»Šå›ã¯GroupChannelå‘¨ã‚Šã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¸­å¿ƒã«è§¦ã£ã¦ã„ã¾ã—ãŸãŒã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«çµ„ã¿è¾¼ã‚€ã«ã¯ã¨ã“ã‚ã©ã“ã‚ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãªå•é¡ŒãŒã¾ã æ®‹ã£ã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã—ãŸã€‚OpenChannelå´ã¯è§¦ã£ã¦ã„ãªã„ã®ã§ã€GroupChannelå´ã§ã“ã‚Œã ã‘å•é¡ŒãŒã‚ã‚‹ã¨ã™ã‚Œã°ã€å…¨ä½“ã¨ã—ã¦ã¯ã¾ã æœªæˆç†Ÿæ„ŸãŒã‚ã‚‹ã®ã‹ãªã‚ã¨æ€ã„ã¾ã™ã€‚

ã¨ã¯ã„ãˆã€UIKitã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦çµæœçš„ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®çµ„ã¿è¾¼ã¿ã¯ã‹ãªã‚Šæ—©ããªã£ãŸã¨æ„Ÿã˜ã¾ã™ã€‚
å…¨ã¦ã‚¹ã‚¯ãƒ©ãƒƒãƒã§æ§‹ç¯‰ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€å‹•ç”»ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚„ãƒªãƒ—ãƒ©ã‚¤ï¼ˆã‚¹ãƒ¬ãƒƒãƒ‰ï¼‰è¡¨ç¤ºã€ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚¹ã‚¿ãƒ³ãƒ—ï¼‰ã€æ—¢èª­è¡¨ç¤ºãªã©ã€ãƒãƒ£ãƒƒãƒˆç”»é¢ã ã‘ã§ã‚‚é–‹ç™ºã—ãªã‘ã‚Œã°ã„ã‘ãªã„ç´°ã‹ãªéƒ¨åˆ†ãŒæ²¢å±±ã‚ã‚Šã¾ã™ã€‚
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½ã§ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€ã†ã¾ãã‚¹ã‚¯ãƒ©ãƒƒãƒã—ã¦ã„ãéƒ¨åˆ†ã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã“ãªã—ã¦ã„ãã®ãŒè‰¯ã„ã‹ã¨æ€ã„ã¾ã™ã€‚

ã¾ãŸã€MessageSearchãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚„MessageInputWrapperã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®å•é¡Œãªã©æ—¥æœ¬èªå¯¾å¿œãŒé…ã‚Œã¦ã„ã‚‹ã‚ˆã†ã«ã‚‚è¦‹å—ã‘ã‚‰ã‚Œã¾ã™ãŒã€Localizationæ©Ÿèƒ½ã«ãŠã‘ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã®ç½®ãæ›ãˆãªã©æŠœã‘æ¼ã‚Œã¯ãªã•ãã†ã§ã—ãŸã—ã€sendbirdç¤¾ã¨æ‰“ã¡åˆã‚ã›ã‚’ã™ã‚‹éš›ã«ã‚‚æ—¥æœ¬èªãƒã‚¤ãƒ†ã‚£ãƒ–ãªé€šè¨³ã‚’ç”¨æ„ã—ã¦ãã ã•ã£ãŸã‚Šã¨ã‹ãªã‚Šæ°—ã‚’é£ã£ã¦ãã‚Œã¦ã„ã‚‹ã‚ˆã†ã«æ„Ÿã˜ã¾ã—ãŸã€‚